{"version":3,"sources":["wc lazy /^/.//.*$/ groupOptions: {} namespace object","types.ts","App.tsx","import-wc.ts","setup.ts","layout.tsx","index.tsx"],"names":["map","webpackAsyncContext","req","__webpack_require__","o","Promise","resolve","then","e","Error","code","ids","id","t","keys","Object","module","exports","Environment","App","microfrontends","setup","env","process","REACT_APP_ENVIRONMENT","development","window","environment","staging","indexOf","server","createServer","routes","this","get","data","party","dates","Date","sentiments","tweets","text","undefined","Header","className","mf","title","pathname","location","path","active","includes","cx","href","split","word","charAt","toUpperCase","slice","capitalizeFirstLetter","join","Layout","children","a","all","appName","console","log","error","ReactDOM","render","StrictMode","element","Element","document","getElementById"],"mappings":"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","file":"static/js/main.5d73d32c.chunk.js","sourcesContent":["var map = {\n\t\"./party-reputation\": [\n\t\t41,\n\t\t0\n\t],\n\t\"./party-reputation.js\": [\n\t\t41,\n\t\t0\n\t],\n\t\"./search-engine\": [\n\t\t42,\n\t\t1\n\t],\n\t\"./search-engine.js\": [\n\t\t42,\n\t\t1\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__.t(id, 7);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 50;\nmodule.exports = webpackAsyncContext;","export enum Environment {\n  development = 'development',\n  staging = 'staging',\n  production = 'production'\n}\n","import './App.css';\n\nconst App: React.FunctionComponent = () => (\n  <div>\n    <h1>Frontend v2</h1>\n  </div>\n);\n\nexport default App;\n","export const microfrontends: string[] = ['search-engine', 'party-reputation'];\n\nexport const importWc = () => Promise.all(microfrontends.map(async (appName) => {\n  try {\n    await import(`./wc/${appName}`);\n    // eslint-disable-next-line\n    console.log(`${appName} loaded`);\n  } catch {\n    // eslint-disable-next-line\n    console.error(`${appName} not found.`);\n  }\n}));\n","import { createServer } from 'miragejs';\nimport { Environment } from './types';\n\nexport const initMockServer = () => {\n  (window as any).server = createServer({\n    routes() {\n      this.get('/api/party-reputation', () => ({\n        data: [{\n          party: 'A',\n          dates: [new Date('10-10-2000'), new Date('11-02-2001'), new Date('02-02-2002')],\n          sentiments: [0.1, 0.2, 0.15],\n        }],\n      }));\n\n      this.get('/api/search-tweets', () => ({\n        tweets: [\n          { id: 1, text: 'Aus cuyy' },\n          { id: 2, text: 'Malem malem pengen McD...' },\n          { id: 3, text: 'Jokowi pulang aja!!' },\n        ],\n      }));\n    },\n  });\n};\n\nexport const setup = (): Promise<void> => new Promise((resolve) => {\n  const env = process.env.REACT_APP_ENVIRONMENT as Environment || Environment.development;\n\n  (window as any).environment = env;\n\n  if ([Environment.staging, Environment.development].indexOf(env) > -1) {\n    initMockServer();\n  }\n\n  resolve(undefined);\n});\n","import cx from 'classnames';\nimport React from 'react';\nimport { microfrontends } from './import-wc';\n\nconst capitalizeFirstLetter = (word: string) => word.charAt(0).toUpperCase() + word.slice(1);\nconst titleCase = (title: string) => title.split('-').map((word) => capitalizeFirstLetter(word)).join(' ');\n\nconst Header: React.FunctionComponent = () => (\n  <nav className=\"flex p-4 bg-indigo-400 text-indigo-100\">\n    {['home', ...microfrontends].map((mf) => {\n      const { pathname } = window.location;\n      const path = `/frontend-v2/${mf === 'home' ? '' : mf}`;\n      const active = mf === 'home' ? pathname === '/frontend-v2/' : pathname.includes(mf);\n      return (\n        <a className={cx({ 'text-white': active }, 'hover:text-white mr-4')} key={mf} href={path}>\n          {titleCase(mf)}\n        </a>\n      );\n    })}\n  </nav>\n);\n\nexport const Layout: React.FunctionComponent = ({ children }) => (\n  <div className=\"flex flex-col min-h-full min-w-full\">\n    <Header />\n    <div className=\"m-4\">{children}</div>\n  </div>\n);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter, Route, Routes } from 'react-router-dom';\n\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { importWc, microfrontends } from './import-wc';\nimport { setup } from './setup';\nimport { Layout } from './layout';\n\nimport './index.css';\n\n\n(async () => {\n  await importWc();\n  await setup();\n\n  ReactDOM.render(\n    <React.StrictMode>\n      <BrowserRouter>\n        <Layout>\n          <Routes>\n            <Route path=\"/frontend-v2/\" element={<App />} />\n            {microfrontends.map((mf) => {\n              const Element = mf;\n              return <Route key={mf} path={`/frontend-v2/${mf}`} element={<Element />} />;\n            })}\n          </Routes>\n        </Layout>\n      </BrowserRouter>\n    </React.StrictMode>,\n    document.getElementById('root'),\n  );\n})();\n"],"sourceRoot":""}