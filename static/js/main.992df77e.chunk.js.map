{"version":3,"sources":["wc lazy /^/.//.*$/ groupOptions: {} namespace object","types.ts","import-wc.ts","layout.tsx","App.tsx","setup.ts","index.tsx"],"names":["map","webpackAsyncContext","req","__webpack_require__","o","Promise","resolve","then","e","Error","code","ids","id","keys","Object","module","exports","microfrontends","Header","nav","className","mf","NavLink","key","isActive","cx","to","split","word","capitalizeFirstLetter","charAt","toUpperCase","slice","join","Layout","children","div","Page404","Home","App","Routes","Route","path","element","Element","Environment","setup","env","process","REACT_APP_ENVIRONMENT","development","window","environment","staging","indexOf","server","createServer","routes","this","get","data","party","dates","Date","sentiments","tweets","text","undefined","all","a","appName","import","console","log","error","ReactDOM","render","React","StrictMode","HashRouter","document","getElementById"],"mappings":"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","file":"static/js/main.992df77e.chunk.js","sourcesContent":["var map = {\n\t\"./party-reputation\": [\n\t\t36,\n\t\t0\n\t],\n\t\"./party-reputation.js\": [\n\t\t36,\n\t\t0\n\t],\n\t\"./search-engine\": [\n\t\t37,\n\t\t1\n\t],\n\t\"./search-engine.js\": [\n\t\t37,\n\t\t1\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 42;\nmodule.exports = webpackAsyncContext;","export enum Environment {\n  development = 'development',\n  staging = 'staging',\n  production = 'production'\n}\n","/* eslint-disable no-console */\nexport const microfrontends: string[] = ['search-engine', 'party-reputation'];\n\nexport const importWc = () => Promise.all(microfrontends.map(async (appName) => {\n  try {\n    await import(`./wc/${appName}`);\n    console.log(`${appName} loaded`);\n  } catch (e: any) {\n    console.error(`${appName} not found.`);\n    console.error(e);\n  }\n}));\n","import cx from 'classnames';\nimport React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport { microfrontends } from './import-wc';\n\nconst capitalizeFirstLetter = (word: string) => word.charAt(0).toUpperCase() + word.slice(1);\nconst titleCase = (title: string) => title.split('-').map((word) => capitalizeFirstLetter(word)).join(' ');\n\nconst Header: React.FunctionComponent = () => (\n  <nav className=\"flex p-4 bg-indigo-400 text-indigo-100\">\n    {['home', ...microfrontends].map((mf) => (\n      <NavLink\n        key={mf}\n        className={({ isActive }) => cx('hover:text-white mr-4', { 'text-white': isActive })}\n        to={`/${mf === 'home' ? '' : mf}`}\n      >\n        {titleCase(mf)}\n      </NavLink>\n    ))}\n  </nav>\n);\n\nexport const Layout: React.FunctionComponent = ({ children }) => (\n  <div className=\"flex flex-col min-h-full min-w-full\">\n    <Header />\n    <div className=\"m-4\">{children}</div>\n  </div>\n);\n","import React from 'react';\nimport { Route, Routes } from 'react-router-dom';\nimport { microfrontends } from './import-wc';\nimport { Layout } from './layout';\n\nconst Page404: React.FunctionComponent = () => (\n  <div>404 Page not found</div>\n);\n\nconst Home: React.FunctionComponent = () => (\n  <div>Frontend-v2</div>\n);\n\nconst App: React.FunctionComponent = () => (\n  <Layout>\n    <Routes>\n      <Route path=\"/\" element={<Home />} />\n      {microfrontends.map((mf) => {\n        const Element = mf;\n        return <Route key={mf} path={`/${mf}`} element={<Element />} />;\n      })}\n      <Route path=\"*\" element={<Page404 />} />\n    </Routes>\n  </Layout>\n);\n\nexport default App;\n","import { createServer } from 'miragejs';\nimport { Environment } from './types';\n\nexport const initMockServer = () => {\n  (window as any).server = createServer({\n    routes() {\n      this.get('/api/party-reputation', () => ({\n        data: [{\n          party: 'A',\n          dates: [new Date('10-10-2000'), new Date('11-02-2001'), new Date('02-02-2002')],\n          sentiments: [0.1, 0.2, 0.15],\n        }],\n      }));\n\n      this.get('/api/search-tweets', () => ({\n        tweets: [\n          { id: 1, text: 'Aus cuyy' },\n          { id: 2, text: 'Malem malem pengen McD...' },\n          { id: 3, text: 'Jokowi pulang aja!!' },\n        ],\n      }));\n    },\n  });\n};\n\nexport const setup = (): Promise<void> => new Promise((resolve) => {\n  const env = process.env.REACT_APP_ENVIRONMENT as Environment || Environment.development;\n\n  (window as any).environment = env;\n\n  if ([Environment.staging, Environment.development].indexOf(env) > -1) {\n    initMockServer();\n  }\n\n  resolve(undefined);\n});\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter } from 'react-router-dom';\nimport App from './App';\nimport { importWc } from './import-wc';\nimport './index.css';\nimport { setup } from './setup';\n\n(async () => {\n  await importWc();\n  await setup();\n\n  ReactDOM.render(\n    <React.StrictMode>\n      <HashRouter>\n        <App />\n      </HashRouter>\n    </React.StrictMode>,\n    document.getElementById('root'),\n  );\n})();\n"],"sourceRoot":""}