{"version":3,"sources":["wc lazy /^/.//.*$/ groupOptions: {} namespace object","types.ts","App.tsx","import-wc.ts","setup.ts","layout.tsx","index.tsx"],"names":["map","webpackAsyncContext","req","__webpack_require__","o","Promise","resolve","then","e","Error","code","ids","id","keys","Object","module","exports","Environment","App","div","h1","microfrontends","setup","env","process","REACT_APP_ENVIRONMENT","development","window","environment","staging","indexOf","server","createServer","routes","this","get","data","party","dates","Date","sentiments","tweets","text","undefined","Header","nav","className","mf","pathname","location","path","active","includes","a","cx","key","href","split","word","capitalizeFirstLetter","charAt","toUpperCase","slice","join","Layout","children","all","appName","import","console","log","error","ReactDOM","render","React","StrictMode","BrowserRouter","Routes","Route","element","Element","document","getElementById"],"mappings":"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","file":"static/js/main.e17877bc.chunk.js","sourcesContent":["var map = {\n\t\"./party-reputation\": [\n\t\t36,\n\t\t0\n\t],\n\t\"./party-reputation.js\": [\n\t\t36,\n\t\t0\n\t],\n\t\"./search-engine\": [\n\t\t37,\n\t\t1\n\t],\n\t\"./search-engine.js\": [\n\t\t37,\n\t\t1\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 43;\nmodule.exports = webpackAsyncContext;","export enum Environment {\n  development = 'development',\n  staging = 'staging',\n  production = 'production'\n}\n","import React, { FunctionComponent } from 'react';\nimport './App.css';\n\nconst App: FunctionComponent = () => (\n  <div>\n    <h1>Frontend v2</h1>\n  </div>\n);\n\nexport default App;\n","export const microfrontends: string[] = ['search-engine', 'party-reputation'];\n\nexport const importWc = () => Promise.all(microfrontends.map(async (appName) => {\n  try {\n    await import(`./wc/${appName}`);\n    // eslint-disable-next-line\n    console.log(`${appName} loaded`);\n  } catch {\n    // eslint-disable-next-line\n    console.error(`${appName} not found.`);\n  }\n}));\n","import { createServer } from 'miragejs';\nimport { Environment } from './types';\n\nexport const initMockServer = () => {\n  (window as any).server = createServer({\n    routes() {\n      this.get('/api/party-reputation', () => ({\n        data: [{\n          party: 'A',\n          dates: [new Date('10-10-2000'), new Date('11-02-2001'), new Date('02-02-2002')],\n          sentiments: [0.1, 0.2, 0.15],\n        }],\n      }));\n\n      this.get('/api/search-tweets', () => ({\n        tweets: [\n          { id: 1, text: 'Aus cuyy' },\n          { id: 2, text: 'Malem malem pengen McD...' },\n          { id: 3, text: 'Jokowi pulang aja!!' },\n        ],\n      }));\n    },\n  });\n};\n\nexport const setup = (): Promise<void> => new Promise((resolve) => {\n  const env = process.env.REACT_APP_ENVIRONMENT as Environment || Environment.development;\n\n  (window as any).environment = env;\n\n  if ([Environment.staging, Environment.development].indexOf(env) > -1) {\n    initMockServer();\n  }\n\n  resolve(undefined);\n});\n","import cx from 'classnames';\nimport React from 'react';\nimport { microfrontends } from './import-wc';\n\nconst capitalizeFirstLetter = (word: string) => word.charAt(0).toUpperCase() + word.slice(1);\nconst titleCase = (title: string) => title.split('-').map((word) => capitalizeFirstLetter(word)).join(' ');\n\nconst Header: React.FunctionComponent = () => (\n  <nav className=\"flex p-4 bg-indigo-400 text-indigo-100\">\n    {['home', ...microfrontends].map((mf) => {\n      const { pathname } = window.location;\n      const path = `/frontend-v2/${mf === 'home' ? '' : mf}`;\n      const active = mf === 'home' ? pathname === '/frontend-v2/' : pathname.includes(mf);\n      return (\n        <a className={cx({ 'text-white': active }, 'hover:text-white mr-4')} key={mf} href={path}>\n          {titleCase(mf)}\n        </a>\n      );\n    })}\n  </nav>\n);\n\nexport const Layout: React.FunctionComponent = ({ children }) => (\n  <div className=\"flex flex-col min-h-full min-w-full\">\n    <Header />\n    <div className=\"m-4\">{children}</div>\n  </div>\n);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter, Route, Routes } from 'react-router-dom';\n\nimport App from './App';\nimport { importWc, microfrontends } from './import-wc';\nimport { setup } from './setup';\nimport { Layout } from './layout';\n\nimport './index.css';\n\n(async () => {\n  await importWc();\n  await setup();\n\n  ReactDOM.render(\n    <React.StrictMode>\n      <BrowserRouter>\n        <Layout>\n          <Routes>\n            <Route path=\"/frontend-v2/\" element={<App />} />\n            {microfrontends.map((mf) => {\n              const Element = mf;\n              return <Route key={mf} path={`/frontend-v2/${mf}`} element={<Element />} />;\n            })}\n          </Routes>\n        </Layout>\n      </BrowserRouter>\n    </React.StrictMode>,\n    document.getElementById('root'),\n  );\n})();\n"],"sourceRoot":""}